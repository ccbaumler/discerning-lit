---
title: "Discerning the Message"
subtitle: "Classifying the Clarity of Communication with Readability in R"
format: 
  revealjs:
    theme: custom-dark.scss
    css: [timer.css, checklist.css]
    preview-links: false
    incremental: true
    chalkboard: 
      buttons: false
    auto-animate-easing: ease-in-out
    auto-animate-unmatched: true
    auto-animate-duration: 0.8
    menu:
      side: right
      width: half
filters:
  - webr
from: markdown+emoji
author: 
  - name: Colton Baumler
    orcid: 0000-0002-5926-7792
    email: ccbaumler@ucdavis.edu
    affiliations: University of California, Davis
date: last-modified
date-format: "dddd, [the] D[<sup style='font-size:65%;font-style:italic;'>th</sup>] [of] MMMM, YYYY"
execute:
  echo: true
  warning: false
  message: false
---

# Overview

- Define readability
- Discuss readability in scientific communication
- Demonstrate practical applications of readability

# Define readability

![Dancer Girl reading on Desk?](images/photo-of-girl-reading-book.jpg)

## Readability is an important hidden part of our world

### Define readability

::: {.columns}

:::: {.column}

- In the world -- an accessible document from the DMV

[![Califonira Driver's Manual](images/ca-drivers-handbook.jpg){.lightbox}]{.absolute bottom=0 left=200 width=150}

::::

:::: {.column}

- In academia -- a class handout that felt too complicated

[![Biochemistry Lab handout](images/experiment-manual.png){.lightbox}]{.absolute bottom=0 right=200 width=150}

::::

:::

## What is readability?

### Define readability - Quick Write

```{r}
#| echo: false
countdown::countdown(minutes = 1, seconds = 0, warn_when = 15, 
                     right = "0%", top = "10%",
                     blink_colon = TRUE,
                     play_sound = "audio/smb_coin.wav",
                     id = "special_timer")
```

::: {.center-xy}

[In one sentence, <br></br> ***what is readability to you?***]{style="font-size: 2em;" .fragment}

:::

## Readabilty -- ***Qualitative*** ease of reading written material

### Define readability - Plainly written

::: {layout='[[1,1],[1]]'}

:::: {#readability}

#### Readability [noun]{.op}

- the state or quality of being readable.

- the properties that affect the sustainability of reading material (typography)
  - Compare legibility

::::

:::: {#readable}

#### Readable [adjective]{.op}

- able to be read easily
  - a: legible (can be read)
  - b: interesting (worth being read)
  - c: suitable (fit to be read)
    - Example: a highly ***readable*** novel

::::

:::

[[![Why did the dancing girl stop to read?](images/photo-of-girl-reading-book.jpg){.lightbox}]{.absolute top=50 right=50 width=100}]{.fragment}

## Readability -- ***Quantitatively*** defined by many metrics! 

### Define readability - Statistically

::: {.notes}

Stop at the end and ask how these definitions match with what they wrote!

Was it more qualitative or quantitative?

What are the strengths of either?
the rest of the talk will be focused on quantitative 
Qualitative requires a reader (a person to spend time reading!)!

:::

- Flesch Reading Ease + Flesch-Kincaid Grade Level: 
  - Word syllables and Sentence length ($\frac{words}{sentence}$)

- [SMOG]{.hovertext data-hover="Simple Measure of Gobbledygook"} + Gunning Fog: 
  - [Complex vocabulary]{.hovertext data-hover="(3 or more syllables)"} and sentence count
  - [Complex vocabulary]{.hovertext data-hover="(3 or more syllables)"} and sentence length

- [ARI]{.hovertext data-hover="Automated Readability Index"} + Coleman-Liau Index: 
  - lengths of words (by characters) and sentences length 
  - character count of words and sentence

# Discuss readability in scientific communication

![HighFive for Readability metrics!](images/highfive-readability.jpeg)

## What are uses for readability metrics?

### Discuss readability in scientific communication

::: {.notes}

Quantitatively identify expert blindspots in our writing
Accessibility - equability - communication 

Identify target audience for writing, Edit writing for target audience (paper, poster, blog, or lesson!), list the most readable documents for scientific sub-domains (ESL, newly entered, very busy)

:::

::: {.columns}

:::: {.column width="66%"}

<br></br>

[***What are some reasons why readability is important in Science Communication?***]{style="font-size: 1.25em;" .fragment}

::::

:::: {.column width="34%"}

```{ojs}
//| echo: false
//| output: false
document.getElementById("userInput").addEventListener("input", function() {
  let userInput = this.value;
  let words = userInput.split("-");
  
  let output = "";
  words.forEach(word => {
    output += `<li>${word}</li>`;
  });
  
  document.getElementById("outputText").innerHTML = `<ul>${output}</ul>`;
});
```

::::: interactive-textbox

<input type="text" id="userInput" placeholder="Type some ideas...">

<p id="outputText">

</p>

:::::

::::

:::

## Am I improving the documentation?

### Discuss readability in scientific communication

some text

::: {.smaller}

| Document    | avg_Flesch | avg_Flesch.Kincaid | avg_FOG   | avg_SMOG  | avg_ARI  | avg_Coleman.Liau.grade |
|----------------|:------------:|:--------------------:|:-----------:|:-----------:|:----------:|:-------------------------:|
| The lab handout  | 40.25443   | 13.05382           | 16.55517  | 14.6636   | 12.35164 | 11.14093                |
| The page on PCR  | 31.83886   | 15.029143          | 19.028571 | 16.699557 | 13.839486| 11.440588               |
| My supp. on PCR  | 56.69536   | 10.17015           | 13.65185  | 12.72743  | 10.27902 | 9.872457                |
---

:::

[![Biochemistry Lab handout](images/pcr-manual.png){.lightbox}]{.absolute bottom=0 left=200 width=150}

[![Biochemistry Lab Supplementary material](images/what-is-pcr.png){.lightbox}]{.absolute bottom=0 right=200 width=150}

# Demonstrate practical applications of readability

![The Loop!!! xkcd](images/loop_xkcd.png)

```{r Installing Libraries}
library(dplyr)
library(pdftools)
library(quanteda.textstats)
```

## DMV metrics are acutally targeted to their audience?

### Demonstrate practical applications of readability

Go to [California's DMV Driver Manual and download it](https://www.dmv.ca.gov/portal/handbook/california-driver-handbook/){target="_blank"}

```{r}
dmv_handbook <- pdftools::pdf_text("10-01-24-Passed-accessible-DL-600-Rev.-1-2024.pdf")

summary(dmv_handbook)
glimpse(dmv_handbook)
```

[What does it look like?](10-01-24-Passed-accessible-DL-600-Rev.-1-2024.pdf){target="_blank"}

## Clean up our new R object

### Demonstrate practical applications of readability

```{r}
dmv_handbook_cleaned <- sapply(dmv_handbook, function(x) {
  lines <- unlist(strsplit(x, "\n"))
  lines <- trimws(lines)
  lines <- lines[lines != ""]
  paste(lines, collapse = "\n")
})

glimpse(dmv_handbook_cleaned)
```

## 

```{r}
dmv_handbook_df <- textstat_readability(dmv_handbook_cleaned, measure = c("Flesch", "Flesch.Kincaid", "FOG", "SMOG", "ARI", "Coleman.Liau.grade"))

dmv_sliced_df <- dmv_handbook_df %>%
  slice(-(1:6)) %>% # remove the title pages, author list, and table of contents
  slice(-(85:86)) # remove the extra stuff after the glossary

dmv_averages <- dmv_sliced_df %>%
  summarise(across(c("Flesch", "Flesch.Kincaid", "FOG", "SMOG", "ARI", "Coleman.Liau.grade"), mean, .names = "avg_{.col}"))

# View result
print(dmv_averages)
gt::gt(dmv_averages)
```

## Excessively practical demo

### Demonstrate practical applications of readability

::: nonincremental

:::: checklist

-   [ ] Go to bibliometric database

-   [ ] Create "narrow" search

-   [ ] Export results

    - review `?convert2df` in `R` for filetype

-   [ ] Run `most-readable-by-domain.R` script

-   [ ] Review the table

-   [ ] read the easiest papers

::::

:::

# Acknowledgments

You


```{css, echo=FALSE}
.interactive-textbox {
  margin: 20px;
}

input[type="text"] {
  padding: 10px;
  font-size: 16px;
  border: 1px solid #ccc;
  border-radius: 5px;
}

#outputText {
  margin-top: 10px;
  font-size: 28px;
  font-weight: bold;

  /* Set width and height constraints */
  /*width: 300px;          /* Adjust as needed */
  max-height: 500px;     /* Adjust as needed */

  /* Handle overflow */
  overflow-y: auto;      /* Adds a vertical scrollbar if content exceeds max-height */
  /*overflow-x: hidden;    /* Prevents horizontal scrolling */
  white-space: normal;   /* Allows text to wrap */
}
```